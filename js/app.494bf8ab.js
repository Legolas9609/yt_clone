(function(t){function e(e){for(var i,r,o=e[0],l=e[1],c=e[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(m.length)m.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,o=1;o<n.length;o++){var l=n[o];0!==s[l]&&(i=!1)}i&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},s={app:0},a=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/yt_clone/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var i=n("85ec"),s=n.n(i);s.a},"0c98":function(t,e,n){},"130a":function(t,e,n){},1387:function(t,e,n){"use strict";var i=n("0c98"),s=n.n(i);s.a},"166c":function(t,e,n){},"2e81":function(t,e,n){"use strict";var i=n("aead"),s=n.n(i);s.a},"36fa":function(t,e,n){"use strict";var i=n("3c2e"),s=n.n(i);s.a},"377e":function(t,e,n){"use strict";var i=n("166c"),s=n.n(i);s.a},"379c":function(t,e,n){"use strict";var i=n("c1ac"),s=n.n(i);s.a},"37d9":function(t,e,n){"use strict";var i=n("b692"),s=n.n(i);s.a},"3c2e":function(t,e,n){},4678:function(t,e,n){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=a(t);return n(e)}function a(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=a,t.exports=s,s.id="4678"},"49c8":function(t,e,n){},"556b":function(t,e,n){"use strict";var i=n("49c8"),s=n.n(i);s.a},5573:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("4de4"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),s=n("8c4f"),a=n("7bb1"),r=n("7890"),o=n.n(r),l=n("f684"),c=n("9c30"),d=(n("51de"),n("5573"),n("51c2")),u=n("39ba"),m=n("59fb"),p=n("4711"),f=n("d0b9"),h=n("11a5"),b=n("8f77"),g=n("6aac"),v=n("b28b"),w=n("a15b"),y=n("1947"),x=n("8226"),C=n("11de"),k=n("4797"),_=n("9c7d"),j=n("5843"),S=n("dd9a"),L=n("5fda"),F=n("01e3"),I=n("3010"),P=n("9eaa"),R=n("8361"),$=n("c3e6"),O=n("ecee"),A=n("c074"),E=n("ad3d"),U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",[n("div",{attrs:{id:"app"}},[n("Header"),n("router-view"),n("router-view",{attrs:{name:"reset"}})],1)])},z=[],M=(n("f9e3"),n("2dd8"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",[n("b-navbar",{staticClass:"mb-5",staticStyle:{"z-index":"10"},attrs:{bg:"light",toggleable:"lg",type:"light",variant:"light"}},[n("b-col",{staticStyle:{display:"flex","justify-content":"left"},attrs:{cols:"6",md:"4",sm:"2"}},[n("router-link",{attrs:{to:""+t.publicPath}},[n("b-navbar-brand",[n("b-navbar-brand",[n("img",{staticStyle:{"border-radius":"20px",width:"30px",height:"30px"},attrs:{alt:"Logo",src:"https://www.bigstockphoto.com/images/homepage/module-1.jpg"}})]),n("p",{staticClass:"d-none d-md-inline",staticStyle:{cursor:"pointer"}},[t._v("FilmApp")])],1)],1)],1),n("b-col",{staticClass:"order-2 order-sm-1",staticStyle:{display:"flex","justify-content":"center","padding-right":"0","padding-left":"0"},attrs:{cols:"12",lg:"4",md:"6",sm:"8"}},[n("b-col",{staticClass:" d-sm-flex d-none justify-content-center"},[n("SearchAutoComplete",{ref:"searchAutocomplete_sm",attrs:{width:""}}),n("b-button",{staticClass:"d-sm-inline ml-1",attrs:{"aria-label":"Search",variant:"light"},on:{click:function(e){return t.handleRedirect("sm")}}},[n("font-awesome-icon",{attrs:{icon:"search"}})],1)],1),n("b-row",{staticClass:"d-flex d-sm-none",staticStyle:{width:"100%",margin:"0"}},[n("b-col",{staticStyle:{"padding-right":"0"},attrs:{cols:"9",sm:"10"}},[n("SearchAutoComplete",{ref:"searchAutocomplete_xs",attrs:{width:"width: auto"}})],1),n("b-col",{staticClass:"justify-content-end d-flex pr-2",attrs:{cols:"3",sm:"2"}},[n("b-button",{staticClass:"d-sm-inline ml-1",attrs:{"aria-label":"Search",type:"submit",variant:"light"},on:{click:function(e){return t.handleRedirect("xs")}}},[n("font-awesome-icon",{attrs:{icon:"search"}})],1)],1)],1)],1),n("b-navbar-toggle",{staticClass:"order-1 order-sm-2",attrs:{target:"login-collapse"}}),n("b-collapse",{staticClass:"order-3 order-sm-2 pt-3 pt-lg-0",attrs:{id:"login-collapse","is-nav":""}},[n("b-nav",{staticClass:"d-inline-block d-lg-flex justify-content-lg-end text-justify",staticStyle:{width:"100%"}},[n("b-nav-item",{staticClass:"pr-2 pl-2 m-nav-link align-self-center",attrs:{eventKey:"playlists"},on:{click:t.handleShowPlaylists}},[t._v("Playlists ")]),n("b-nav-item",{staticClass:"pr-2 pl-2 m-nav-link align-self-center",attrs:{eventKey:"add_film"},on:{click:t.handleAddFilm}},[t._v("Add ")]),t.isLoggedIn?t._e():n("b-nav-item",{staticClass:"pr-2 pl-2 m-nav-link align-self-center",attrs:{eventKey:"login"},on:{click:function(e){return t.handleLogin(e)}}},[t._v(" Login ")]),t.isLoggedIn?n("b-nav-item",{staticClass:"pr-2 pl-2 m-nav-link"},[n("b-dropdown",{staticClass:"m-dropdown d-none d-lg-block",attrs:{"no-caret":"",right:"",variant:"link"},scopedSlots:t._u([{key:"button-content",fn:function(){return[n("md-avatar",{staticClass:"md-avatar-icon"},[n("md-ripple",[t._v(t._s(t.username))])],1)]},proxy:!0}],null,!1,4067246367)},[n("b-dropdown-item",{on:{click:function(e){return t.handleProfileClick(e)}}},[t._v("Profile")]),n("b-dropdown-item",{on:{click:function(e){return t.handleLogout(e)}}},[t._v("Logout")])],1),n("b-dropdown",{staticClass:"m-dropdown d-block d-lg-none",attrs:{"no-caret":"",variant:"link"},scopedSlots:t._u([{key:"button-content",fn:function(){return[n("md-avatar",{staticClass:"md-avatar-icon"},[n("md-ripple",[t._v(t._s(t.username))])],1)]},proxy:!0}],null,!1,4067246367)},[n("b-dropdown-item",{on:{click:function(e){return t.handleProfileClick(e)}}},[t._v("Profile")]),n("b-dropdown-item",{on:{click:function(e){return t.handleLogout(e)}}},[t._v("Logout")])],1)],1):t._e()],1)],1)],1)],1)}),T=[],D=(n("caad"),n("2532"),{apiUrl:"https://yt-clone-zti.herokuapp.com/api/"}),q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-autocomplete",staticStyle:{margin:"0"},style:t.width},[n("input",{staticClass:"v-autocomplete-input w-100",attrs:{placeholder:"Search...",type:"text"},domProps:{value:t.search},on:{input:function(e){return t.onChange(e)},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.onArrowDown(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.onArrowUp(e)}]}}),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"v-autocomplete-list",staticStyle:{position:"absolute",padding:"0","list-style-type":"none"}},[t.isLoading?n("li",{staticClass:"v-autocomplete-list-item"},[t._v(" Loading results... ")]):t._l(t.results,(function(e,i){return n("li",{key:i,staticClass:"v-autocomplete-list-item",class:{"v-autocomplete-list-item-active":i===t.arrowCounter},on:{click:function(n){return t.setResult(e)},mouseover:function(e){t.arrowCounter=i}}},[n("b-row",{staticClass:"m-0 p-0"},[n("b-col",{staticClass:"m-0 p-0",attrs:{cols:"2",sm:"2"}},[n("md-avatar",{staticClass:"mr-3",attrs:{variant:"primary"}},[n("img",{attrs:{src:t.apiUrl+"films/"+e.id+"/thumbnail/preview",alt:"Film added by "+e.authorUsername}})])],1),n("b-col",{attrs:{cols:"10",sm:"10"}},[n("span",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:1,expression:"1",arg:"20"}]},[t._v(t._s(e.title))])])],1)],1)}))],2)])},N=[],H=(n("99af"),n("d3b7"),n("ac1f"),n("841c"),n("96cf"),n("1da1")),B=n("bc3a"),V=n.n(B),W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-col",{staticClass:"m-0 "},[t.isLoading?n("b-spinner",{attrs:{label:"Spinning",type:"grow"}}):t._e(),!1===t.isLoading?n("b-row",t._l(t.films,(function(e,i){return n("b-col",{key:"film-"+i,staticClass:"mb-4 film-preview-holder",attrs:{siz:"",cols:"6",sm:"4",md:"3",lg:"2"}},[n("div",{staticClass:"embed-responsive embed-responsive-16by9 z-depth-1-half container m-container",on:{click:function(n){return t.handleFilmChooseFilmsHomepage(e.id)}}},[n("img",{staticClass:"embed-responsive-item image pr-2",attrs:{alt:"Film added by "+e.authorUsername,src:t.apiUrl+"films/"+e.id+"/thumbnail/preview"}}),n("font-awesome-icon",{staticClass:"middle",attrs:{icon:"play"}})],1),n("b-row",{staticClass:"m-0 mt-2"},[n("b-col",{staticClass:"title p-0",attrs:{cols:"10",sm:"10"}},[n("span",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:2,expression:"2",arg:"20"}]},[t._v(t._s(e.title))])]),n("b-col",{staticClass:"p-0 d-flex justify-content-end",staticStyle:{"line-height":"0 !important"},attrs:{cols:"2",sm:"2"}},[n("AddToPlaylistButton",{attrs:{"film-id":e.id,"is-logged-in":t.isLoggedIn}})],1)],1),n("p",{staticClass:"mb-0 author-nick"},[n("small",[t._v(t._s(e.authorUsername))])]),n("p",{staticClass:"mb-0 film-views"},[n("small",[t._v(t._s(e.meta.views)+" views")])])],1)})),1):t._e(),n("router-view")],1)},G=[],K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isLoggedIn?n("md-menu",{staticClass:"d-flex justify-content-center align-items-center",staticStyle:{width:"25px",height:"25px","border-radius":"20px",position:"relative"},attrs:{"md-offset-x":-10,"md-active":t.isActive,"md-direction":"bottom-end"},on:{"md-closed":t.handleHide,"md-opened":t.handleShow}},[n("md-button",{staticClass:"d-flex justify-content-center align-items-center",staticStyle:{width:"25px",height:"25px","border-radius":"20px","min-width":"auto",outline:"0"},attrs:{"aria-label":"Playlist","md-menu-trigger":""}},[n("md-ripple",{staticClass:"d-flex justify-content-center align-items-center",staticStyle:{width:"25px",height:"25px","border-radius":"20px"}},[n("font-awesome-icon",{class:t.isMobile?"playlist-add-icon-mobile":"playlist-add-icon",attrs:{icon:"ellipsis-v"}})],1)],1),n("md-menu-content",[n("AddToPlaylist",{attrs:{"film-id":t.filmId}})],1)],1):t._e()},J=[],Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pt-2 playlist-add-container",staticStyle:{"line-height":"1.5"},on:{click:function(e){return t.handleClickAddToPlaylistComponent(e)}}},[n("b-row",{staticClass:"m-0 p-0"},[n("b-col",{attrs:{cols:"8",sm:"8"}},[n("p",{staticClass:"dropdown-item-my pl-2 pr-2"},[t._v("Save to...")])]),n("b-col",{staticClass:"d-flex justify-content-end",attrs:{cols:"4",sm:"4"}},[n("md-button",{staticClass:"m-0 p-0",staticStyle:{width:"25px",height:"25px","border-radius":"20px","min-width":"auto",outline:"0"},attrs:{"aria-label":"Close"},on:{click:function(e){return t.onClose(e)}}},[n("font-awesome-icon",{attrs:{icon:"times"}})],1)],1)],1),n("b-col",{staticClass:"mt-2 mb-3 dropdown-divider",attrs:{cols:"12"}}),n("b-col",{staticClass:"playlist-add-scroll",staticStyle:{"max-height":"100px","overflow-y":"scroll","min-height":"3rem"},attrs:{cols:"12",sm:"12"}},[!1===t.isLoading?n("b-col",{staticClass:"m-0 p-0"},t._l(t.playlists,(function(e,i){return n("b-row",{key:"_playlist-"+i,staticClass:"d-flex ml-2"},[n("b-col",{staticClass:"m-0 p-0",attrs:{cols:"10",sm:"10"}},[n("b-form-checkbox",{staticClass:"mt-1 mb-1 d-flex",staticStyle:{cursor:"pointer"},attrs:{checked:e.films.includes(t.filmId)},on:{change:function(n){return t.handleAddRemoveToPlaylist(e,n)}}},[n("span",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:1,expression:"1",arg:"20"}],staticStyle:{"white-space":"normal"}},[t._v(" "+t._s(e.title)+" ")])])],1),n("b-col",{staticClass:"m-0 p-0 ",attrs:{cols:"2",sm:"2"}},[n("md-button",{staticClass:"align-self-center mr-3 d-flex align-items-center justify-content-center; ",staticStyle:{width:"25px",height:"25px","border-radius":"20px","margin-left":"auto"},attrs:{"aria-label":"Change publicity"}},[e.public?n("font-awesome-icon",{attrs:{icon:"globe"},on:{click:function(n){return t.handleChangeIsPublic(e.id,e.public)}}}):t._e(),!1===e.public?n("font-awesome-icon",{attrs:{icon:"lock"},on:{click:function(n){return t.handleChangeIsPublic(e.id,e.public)}}}):t._e()],1)],1)],1)})),1):t._e(),n("div",{staticClass:"d-flex justify-content-center"},[!0===t.isLoading?n("b-spinner",{attrs:{label:"Spinning"}}):t._e()],1)],1),n("b-col",{staticClass:"mt-2 mb-3 dropdown-divider",attrs:{cols:"12"}}),n("p",{staticClass:"dropdown-item-my pl-4 pr-4"},[t._v("Create a new playlist")]),n("b-form-input",{staticClass:"dropdown-item-my w-75 ml-auto mr-auto mb-2 mt-2",attrs:{placeholder:"Enter playlist name..."},on:{focus:function(e){t.error=null}},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}}),n("b-form-select",{staticClass:"dropdown-item-my w-75 mb-2 mt-2",staticStyle:{"margin-left":"12.5%"},attrs:{options:t.options},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),n("b-form-invalid-feedback",{staticClass:"dropdown-item-my w-75 ml-auto mr-auto mb-2 mt-2"}),n("b-row",{staticClass:"m-0 mb-1 ml-4 mt-2 text-left justify-content-start"},[n("b-button",{attrs:{"aria-label":"Create",disabled:t.isCreating},on:{click:t.handleAddPlaylist}},[t._v("Create")]),t.isCreating?n("b-spinner",{staticClass:"ml-2"}):t._e()],1),t.error?n("b-alert",{staticClass:"ml-4 mr-4 mt-4",attrs:{show:"",variant:"danger"}},[n("span",{staticStyle:{"white-space":"normal"}},[t._v(" "+t._s(t.error)+" ")])]):t._e()],1)},Q=[],X=(n("c740"),new i["default"]),Z=X,tt=(n("7db0"),n("fb6a"),n("25f0"),n("ddb0"),n("3835")),et=n("b85c"),nt=n("04e1"),it=n("c1df"),st=n.n(it),at=function(t,e,n){var i="",s="";for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(null===t[a])continue;Array.isArray(t[a])?(i.concat(a).concat("=").concat(t[a][0]),"title_starts"===a&&(s=t[a][0])):(i+=a+"="+t[a],"title_starts"===a&&(s=t[a])),i+="&&"}var r=null,o={id:null,dir:1};Object.prototype.hasOwnProperty.call(t,"filter")&&(r=e.find((function(e){return e.id===t["filter"]})).id);var l,c=Object(et["a"])(n.entries());try{for(c.s();!(l=c.n()).done;){var d=Object(tt["a"])(l.value,2),u=(d[0],d[1]);Object.prototype.hasOwnProperty.call(t,u.id)&&(o.id=u.id,o.dir=parseInt(t[u.id]))}}catch(m){c.e(m)}finally{c.f()}return i=i.slice(0,i.length-2),{path:i,title_starts:s,filter:r,sort:o}},rt=function(t,e,n,i,s){"filter"===t?i=i&&i===e.id?null:e.id:"sort"===t&&(s.id===e.id?s.dir*=-1:s.id=e.id);var a={title_starts:n};return s.id&&(a[s.id]=s.dir.toString()),i&&(a.filter=i),{query:a,filter:i,sort:s}},ot=function(){var t=localStorage.getItem("token");return console.log(t),t?{Authorization:"Bearer "+t}:{}},lt=function(t){var e=new Date(Date.parse(t));return("0"+e.getDate()).slice(-2)+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getFullYear()).slice(-2)+" o "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)},ct=function(){return null===localStorage.getItem("token")?(Z.$emit("logged","out"),!1):!st()().isAfter(dt())||(Z.$emit("logged","out"),!1)},dt=function(){var t=localStorage.getItem("token"),e=nt(t);return st.a.unix(e.exp)},ut=function(){if(null!==localStorage.getItem("token")){var t=localStorage.getItem("token"),e=nt(t);return e.id}return null},mt=function(){if(null!==localStorage.getItem("token")){var t=localStorage.getItem("token"),e=nt(t);return e.username[0].concat(e.username[1]).toUpperCase()}return""},pt=function(){var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t},ft={name:"AddToPlaylist",props:{filmId:String},data:function(){return{isLoggedIn:!1,isLoading:!0,playlists:[],form:{title:null,public:!0,films:[],removeFilms:!1},selected:"public",options:["public","private"],isCreating:!1,error:null}},created:function(){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoggedIn=ct(),e.next=3,t.handleGetMyPlaylists();case 3:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;Z.$on("logged",(function(e){"in"===e?t.isLoggedIn=!0:"out"===e&&(t.isLoggedIn=!1)}))},methods:{onClose:function(){Z.$emit("closed")},toast:function(t,e){this.$root.$bvToast.toast(e,{title:t,toaster:"b-toaster-bottom-left",solid:!0,appendToast:!0,autoHideDelay:1500,variant:"secondary"})},handleGetMyPlaylists:function(){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ln.getMyPlaylists().then((function(e){t.playlists=e.data})).catch((function(t){t.response?console.log(t.response):console.log(t)})).finally((function(){return t.isLoading=!1}));case 2:case"end":return e.stop()}}),e)})))()},handleClickAddToPlaylistComponent:function(t){this.error=null,t.stopPropagation()},handleAddPlaylist:function(){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isCreating=!0,t.form.public="public"===t.selected,e.next=4,ln.addPlaylist(t.form).then((function(e){t.playlists.push(e.data),t.toast("Toast playlist","New playlist '".concat(e.data.title,"' created"))})).catch((function(e){e.response?(console.log(e.response),t.error=e.response.data.message):(console.log(e),t.error="Cannont create playlist!")})).finally((function(){t.isCreating=!1,t.form={title:null,public:!0,films:[],removeFilms:!1}}));case 4:case"end":return e.stop()}}),e)})))()},handleAddRemoveToPlaylist:function(t,e){var n=this;return Object(H["a"])(regeneratorRuntime.mark((function i(){var s,a,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s=t.id,a=[n.filmId],r={films:a,removeFilms:!e},i.next=5,ln.updatePlaylist(s,r).then((function(i){console.log(i),Z.$emit("playlist_changed",e?"add":"remove",i.data),Z.$emit("playlist_changed_profile",i.data);var s=e?"added to":"removed from";n.toast("Toast playlist","Film ".concat(s," playlist '").concat(t.title,"'"))})).catch((function(t){t.response?console.log(t.response):console.log(t)}));case 5:case"end":return i.stop()}}),i)})))()},handleChangeIsPublic:function(t,e){var n=this;return Object(H["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s={isPublic:!e},i.next=3,ln.updatePlaylist(t,s).then((function(e){console.log(e),console.log(n.playlists[n.playlists.findIndex((function(e){return e.id===t}))]),n.playlists[n.playlists.findIndex((function(e){return e.id===t}))].public=e.data.public})).catch((function(t){t.response?console.log(t.response):console.log(t)}));case 3:case"end":return i.stop()}}),i)})))()}}},ht=ft,bt=(n("8957"),n("2877")),gt=Object(bt["a"])(ht,Y,Q,!1,null,null,null),vt=gt.exports,wt={name:"AddToPlaylistButton",components:{AddToPlaylist:vt},props:{filmId:String,isLoggedIn:Boolean},mounted:function(){var t=this;Z.$on("closed",(function(){t.isActive&&t.handleHide()}))},beforeDestroy:function(){this.handleHide()},methods:{handleScroll:function(){this.isActive=!1},handleShow:function(){setTimeout((function(){return document.body.classList.add("modal-open")}),250),this.isActive=!0},handleHide:function(){document.body.classList.remove("modal-open"),this.isActive=!1}},data:function(){return{isMobile:pt(),isActive:!1}}},yt=wt,xt=(n("1387"),Object(bt["a"])(yt,K,J,!1,null,null,null)),Ct=xt.exports,kt=n("5f35"),_t={name:"FilmsHomepage",components:{AddToPlaylistButton:Ct},data:function(){return{films:[],apiUrl:D.apiUrl,isLoggedIn:!1,isLoading:!0}},methods:{handleFilmChooseFilmsHomepage:function(t){this.$router.push("".concat(kt["publicPath"],"films/").concat(t))}},created:function(){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoggedIn=ct(),t.isLoading=!0,e.next=4,ln.getAllFilms().then((function(e){t.films=e.data})).catch((function(e){console.log(e),t.error="Failed to load todos"})).finally((function(){return t.isLoading=!1}));case 4:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;Z.$on("logged",(function(e){"in"===e?t.isLoggedIn=!0:"out"===e&&(t.isLoggedIn=!1)}))}},jt=_t,St=Object(bt["a"])(jt,W,G,!1,null,"58b144d6",null),Lt=St.exports,Ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-modal",{attrs:{id:"modal-1",title:"Login",size:"lg",centered:""},on:{close:t.handleClose,hidden:t.handleClose},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[n("div",{staticClass:"w-100 d-flex algin-content-center"},[n("b-button",{attrs:{variant:"primary",disabled:t.isLoggingIn},on:{click:t.handleOk}},[t._v(" Login ")]),t.isLoggingIn?n("b-spinner",{staticClass:"ml-2"}):t._e()],1)]},proxy:!0}]),model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[n("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit(e)},change:function(e){t.error=null}}},[n("b-form-group",{attrs:{id:"email-group",label:"Email","label-for":"email-input"}},[n("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{id:"email-input",name:"email-input",type:"email",state:t.validateState("email-input"),"aria-describedby":"input-email-live-feedback","data-vv-as":"Email"},on:{focus:function(e){t.error=null}},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}}),n("b-form-invalid-feedback",{attrs:{id:"input-email-live-feedback"}},[t._v(t._s(t.veeErrors.first("email-input")))])],1),n("b-form-group",{attrs:{id:"password-group",label:"Password","label-for":"password-input"}},[n("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,min:6,max:25},expression:"{required: true, min: 6, max: 25}"}],attrs:{id:"password-input",type:"password",name:"password-input",state:t.validateState("password-input"),"aria-describedby":"input-password-live-feedback","data-vv-as":"Password"},on:{focus:function(e){t.error=null}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),n("b-form-invalid-feedback",{attrs:{id:"input-password-live-feedback"}},[t._v(t._s(t.veeErrors.first("password-input")))])],1)],1),n("b-form-group",[n("b-button",{staticStyle:{"padding-left":"0"},attrs:{variant:"link","aria-label":"Register"},on:{click:t.handleRegisterClick}},[t._v(" Register ")]),n("b-button",{attrs:{variant:"link","aria-label":"Forgot"},on:{click:t.handleForgotClick}},[t._v(" Forgot password? ")])],1),t.error?n("b-alert",{attrs:{show:"",variant:"danger"}},[t._v(t._s(t.error))]):t._e()],1)],1)},It=[],Pt=(n("5319"),{name:"Login",data:function(){return{modalShow:!0,form:{username:null,password:null},isLoggingIn:!1,error:null}},methods:{validateState:function(t){return this.veeFields[t]&&(this.veeFields[t].dirty||this.veeFields[t].validated)?!this.veeErrors.has(t):null},handleOk:function(t){this.isLoggingIn=!0,t.preventDefault(),this.onSubmit()},handleClose:function(){if(window.history.length>1){var t=this.$route.path;t=t.replace("/login","").replace("/register","").replace("/forget","").replace("reset",""),""===t&&(t+=kt["publicPath"]),this.$router.push({path:t,replace:!0,query:this.$route.query})}else this.$router.push("".concat(kt["publicPath"]))},handleRegisterClick:function(){this.$route.path.includes("register")||this.$route.path.includes("forgot")||this.$route.path.includes("reset")||this.$router.push({path:"".concat(kt["publicPath"],"register"),replace:!0,query:this.$route.query})},handleForgotClick:function(){this.$route.path.includes("register")||this.$route.path.includes("forgot")||this.$route.path.includes("reset")||this.$router.push({path:"".concat(kt["publicPath"],"forgot"),replace:!0,query:this.$route.query})},onSubmit:function(){var t=this;this.$validator.validateAll().then(function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return t.isLoggingIn=!1,e.abrupt("return");case 3:return e.next=5,ln.login(t.form).then((function(e){localStorage.setItem("token",e.data.accessToken),Z.$emit("logged","in"),t.handleClose()})).catch((function(e){console.log(e),t.error="Failed to login",t.isLoggingIn=!1}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}),Rt=Pt,$t=Object(bt["a"])(Rt,Ft,It,!1,null,"35a545ee",null),Ot=$t.exports,At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-modal",{attrs:{id:"modal-1",title:"Register",size:"lg",centered:"","ok-title":"Register","ok-only":!0},on:{close:t.handleClose,hidden:t.handleClose},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[n("div",{staticClass:"w-100 d-flex algin-content-center"},[n("b-button",{attrs:{variant:"primary",disabled:t.isRegistering},on:{click:t.handleOk}},[t._v(" Register ")]),t.isRegistering?n("b-spinner",{staticClass:"ml-2"}):t._e()],1)]},proxy:!0}]),model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[n("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit(e)},change:function(e){t.error=null}}},[n("b-form-group",{attrs:{id:"username-group",label:"Username","label-for":"username-input"}},[n("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,min:3,max:50},expression:"{required: true, min: 3, max: 50}"}],attrs:{id:"username-input",name:"username-input",state:t.validateState("username-input"),"aria-describedby":"input-username-live-feedback","data-vv-as":"Username"},on:{focus:function(e){t.error=null}},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}}),n("b-form-invalid-feedback",{attrs:{id:"input-username-live-feedback"}},[t._v(t._s(t.veeErrors.first("username-input")))])],1),n("b-form-group",{attrs:{id:"email-group",label:"Email","label-for":"email-input"}},[n("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{id:"email-input",name:"email-input",type:"email",state:t.validateState("email-input"),"aria-describedby":"input-email-live-feedback","data-vv-as":"Email"},on:{focus:function(e){t.error=null}},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),n("b-form-invalid-feedback",{attrs:{id:"input-email-live-feedback"}},[t._v(t._s(t.veeErrors.first("email-input")))])],1),n("b-form-group",{attrs:{id:"password-group",label:"Password","label-for":"password-input"}},[n("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,min:6,max:25},expression:"{required: true, min: 6, max: 25}"}],attrs:{id:"password-input",type:"password",name:"password-input",state:t.validateState("password-input"),"aria-describedby":"input-password-live-feedback","data-vv-as":"Password"},on:{focus:function(e){t.error=null}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),n("b-form-invalid-feedback",{attrs:{id:"input-password-live-feedback"}},[t._v(t._s(t.veeErrors.first("password-input")))])],1)],1),t.error?n("b-alert",{attrs:{show:"",variant:"danger"}},[t._v(t._s(t.error))]):t._e()],1)],1)},Et=[],Ut={name:"Register",data:function(){return{modalShow:!0,prevRoute:null,form:{email:null,password:null,username:null},isRegistering:!1,error:null}},beforeRouteEnter:function(t,e,n){n((function(t){t.prevRoute=e}))},methods:{validateState:function(t){return this.veeFields[t]&&(this.veeFields[t].dirty||this.veeFields[t].validated)?!this.veeErrors.has(t):null},handleOk:function(t){t.preventDefault(),this.onSubmit()},handleClose:function(){var t=this.$route.path;t=t.replace("register",""),""===t&&(t+=kt["publicPath"]),this.$router.push({path:t,query:this.$route.query})},onSubmit:function(){var t=this;this.$validator.validateAll().then(function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return t.isRegistering=!0,e.next=5,ln.register(t.form).then((function(){t.$route.path.includes("login")||t.$route.path.includes("forgot")||t.$route.path.includes("reset")||t.$router.push({path:"".concat(kt["publicPath"],"login"),replace:!0,query:t.$route.query})})).catch((function(e){e.response?(t.error=e.response.data.message,console.log(e.response)):t.error="Failed to register",console.log(e),t.isRegistering=!1}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},zt=Ut,Mt=Object(bt["a"])(zt,At,Et,!1,null,"2c6a8677",null),Tt=Mt.exports,Dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-modal",{attrs:{id:"modal-1",title:"Forgot",size:"lg",centered:""},on:{close:t.handleClose,hidden:t.handleClose},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[n("div",{staticClass:"w-100 d-flex algin-content-center"},[n("b-button",{attrs:{variant:"primary",disabled:t.isSending},on:{click:t.handleOk}},[t._v(" Send token to an email ")]),t.isSending?n("b-spinner",{staticClass:"ml-2"}):t._e()],1)]},proxy:!0}]),model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[n("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit(e)},change:t.resetMessages}},[n("b-form-group",{attrs:{id:"email-group",label:"Email","label-for":"email-input"}},[n("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{id:"email-input",name:"email-input",type:"email",state:t.validateState("email-input"),"aria-describedby":"input-email-live-feedback","data-vv-as":"Email"},on:{focus:t.resetMessages},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),n("b-form-invalid-feedback",{attrs:{id:"input-email-live-feedback"}},[t._v(t._s(t.veeErrors.first("email-input")))])],1)],1),t.error?n("b-alert",{attrs:{show:"",variant:"danger"}},[t._v(t._s(t.error))]):t._e(),t.success?n("b-alert",{attrs:{show:"",variant:"success"}},[t._v(t._s(t.success))]):t._e()],1)],1)},qt=[],Nt={name:"ForgotPassword",data:function(){return{modalShow:!0,form:{email:null},isSending:!1,success:null,error:null}},methods:{resetMessages:function(){this.error=null,this.success=null},validateState:function(t){return this.veeFields[t]&&(this.veeFields[t].dirty||this.veeFields[t].validated)?!this.veeErrors.has(t):null},handleOk:function(t){t.preventDefault(),this.onSubmit()},handleClose:function(){var t=this.$route.path;t=t.replace("forgot",""),""===t&&(t+=kt["publicPath"]),this.$router.push({path:t,query:this.$route.query})},onSubmit:function(){var t=this;this.$validator.validateAll().then(function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return t.isSending=!0,e.next=5,ln.forget(t.form).then((function(e){console.log(e),t.success=e.data})).catch((function(e){console.log(e.response),console.log(e),e.response?t.error=e.response.data.message:t.error="Cannot send token to this email."})).finally((function(){return t.isSending=!1}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},Ht=Nt,Bt=Object(bt["a"])(Ht,Dt,qt,!1,null,"237a1b58",null),Vt=Bt.exports,Wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-modal",{attrs:{title:"Reset",size:"lg",centered:""},on:{close:t.handleClose,hidden:t.handleClose},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[n("div",{staticClass:"w-100 d-flex algin-content-center"},[n("b-button",{attrs:{"aria-label":"Reset",variant:"primary",disabled:t.isReseting},on:{click:t.handleOk}},[t._v(" Reset ")]),t.isReseting?n("b-spinner",{staticClass:"ml-2"}):t._e()],1)]},proxy:!0}]),model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[n("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit(e)}}},[n("b-form-group",{attrs:{id:"password-group",label:"Password","label-for":"password-input"}},[n("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:{required:!0,min:6,max:25},expression:"{required: true, min: 6, max: 25}"}],attrs:{id:"password-input",type:"password",name:"password-input",state:t.validateState("password-input"),"aria-describedby":"input-password-live-feedback","data-vv-as":"Password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),n("b-form-invalid-feedback",{attrs:{id:"input-password-live-feedback"}},[t._v(t._s(t.veeErrors.first("password-input")))])],1)],1),t.messages.error?n("b-alert",{attrs:{show:"",variant:"danger"}},[t._v(t._s(t.messages.error))]):t._e(),t.messages.success?n("b-alert",{attrs:{show:"",variant:"success"}},[t._v(t._s(t.messages.success))]):t._e()],1),n("router-view")],1)},Gt=[],Kt={name:"ResetPassword",data:function(){return{modalShow:!0,form:{password:null},isReseting:!1,messages:{success:null,error:null}}},methods:{validateState:function(t){return this.veeFields[t]&&(this.veeFields[t].dirty||this.veeFields[t].validated)?!this.veeErrors.has(t):null},resetMessages:function(){this.messages={error:null,success:null}},handleOk:function(t){t.preventDefault(),this.onSubmit()},handleClose:function(){this.$router.push("".concat(kt["publicPath"]))},onSubmit:function(){var t=this;this.$validator.validateAll().then(function(){var e=Object(H["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return t.isReseting=!0,e.next=5,ln.reset(t.$route.params.token,t.form).then((function(e){console.log(e),t.messages.success="Password reseted succesfully! Redirectiong to login!",setTimeout((function(){return t.$router.push("".concat(kt["publicPath"],"login"))}),1500)})).catch((function(e){e.response?t.messages.error=e.response.data.message:t.messages.error="Cannot send token to this email."})).finally((function(){return t.isReseting=!1}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},Jt=Kt,Yt=Object(bt["a"])(Jt,Wt,Gt,!1,null,"7925229e",null),Qt=Yt.exports,Xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-form",[n("b-row",{staticClass:"mt-4 mr-2 ml-2",attrs:{sm:"12"}},[n("b-col",{staticClass:"mb-4",attrs:{lg:"5",sm:"6"}},[n("b-col",{staticClass:"mb-4 ml-auto mr-auto",attrs:{cols:"10",lg:"10",sm:"12"}},[n("div",{staticClass:"embed-responsive embed-responsive-16by9 z-depth-1-half\n                        justify-content-center\n                        d-flex\n                        align-items-center\n                        embed-responsive-item\n                        text-center\n                        box"},[n("input",{staticClass:"inputfile",attrs:{accept:"video/mp4, video/ogg",id:"film",type:"file"},on:{change:t.handleFilmChoose}}),n("label",{attrs:{for:"film"}},[n("span",[t._v("Add film")])]),t.preview.film.length>0?n("video",{staticClass:"embed-responsive-item ",attrs:{src:t.preview.film,autoPlay:"",loop:"",muted:""},domProps:{muted:!0}}):t._e(),t.preview.film.length>0?n("b-col",{staticClass:"add-item-opacity",staticStyle:{left:"0",top:"0",position:"absolute",width:"100%",height:"100%"}}):t._e(),t.preview.film.length>0?n("font-awesome-icon",{staticClass:"add-item-middle fa-3x",staticStyle:{color:"#ffffff"},attrs:{icon:"times"},on:{click:function(e){return t.handleRemoveFile("film")}}}):t._e()],1)]),n("b-col",{staticClass:"ml-auto mr-auto",attrs:{cols:"10",lg:"10",sm:"12"}},[n("div",{staticClass:"embed-responsive embed-responsive-16by9 z-depth-1-half\n                        justify-content-center\n                        d-flex\n                        align-items-center\n                        embed-responsive-item\n                        text-center\n                        box"},[n("input",{staticClass:"inputfile",attrs:{accept:"image/jpg, image/png, image/jpeg",id:"thumbnail",type:"file"},on:{change:t.handleThumbnailChoose}}),n("label",{attrs:{for:"thumbnail"}},[n("span",[t._v("Add thumbnail")])]),t.preview.thumbnail.length>0?n("img",{staticClass:"embed-responsive-item",attrs:{alt:"Film being added",src:t.preview.thumbnail}}):t._e(),t.preview.thumbnail.length>0?n("b-col",{staticClass:"add-item-opacity",staticStyle:{left:"0",top:"0",position:"absolute",width:"100%",height:"100%"}}):t._e(),t.preview.thumbnail.length>0?n("font-awesome-icon",{staticClass:"add-item-middle fa-3x",staticStyle:{color:"#ffffff"},attrs:{icon:"times"},on:{click:function(e){return t.handleRemoveFile("thumbnail")}}}):t._e()],1)])],1),n("b-col",{staticClass:"mb-2",attrs:{lg:"5",sm:"6"}},[n("b-col",{staticClass:"mb-3",attrs:{sm:"12"}},[n("b-form-input",{attrs:{"aria-label":"Title",name:"title",placeholder:"Title"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),n("b-col",{staticClass:"mb-3",attrs:{sm:"12"}},[n("b-form-textarea",{attrs:{"max-rows":"6",name:"description",placeholder:"Description",rows:"3"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),n("b-col",{staticClass:"mb-3 d-flex justify-content-start algin-content-center",attrs:{sm:"12"}},[n("b-button",{attrs:{variant:"primary","aria-label":"Add",disabled:t.isAdding},on:{click:t.handleCreateFilm}},[t._v(" Add ")]),t.isAdding?n("b-spinner",{staticClass:"ml-2"}):t._e()],1),n("b-alert",{attrs:{show:t.showError,variant:"danger"}},[t._v(t._s(t.errorMessage))])],1)],1),n("router-view")],1)},Zt=[],te=(n("a4d3"),n("e01a"),n("3ca3"),n("2b3d"),{name:"AddFilm",data:function(){return{errorMessage:null,showError:!1,preview:{thumbnail:"",film:""},form:{title:"",description:"",film:null,thumbnail:null},isAdding:!1}},methods:{handleFilmChoose:function(t){t.preventDefault(),this.form.film=t.target.files[0],this.preview.film=URL.createObjectURL(t.target.files[0])},handleThumbnailChoose:function(t){this.form.thumbnail=t.target.files[0],this.preview.thumbnail=URL.createObjectURL(t.target.files[0])},handleCreateFilm:function(){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isAdding=!0,t.showError=!1,t.errorMessage="",n=new FormData,n.append("title",t.form.title),n.append("description",t.form.description),n.append("video",t.form.film),n.append("thumbnail",t.form.thumbnail),e.next=10,ln.createNewFilm(n).then((function(e){console.log(e),t.$router.push("".concat(kt["publicPath"],"films/").concat(e.data.id))})).catch((function(e){e.response&&401!==e.response.status?e.response?(console.log(e.response),e.response.data.errors?t.errorMessage=e.response.data.errors[0]:t.errorMessage=e.response.data.message,t.showError=!0):(console.log(e),t.errorMessage="Something went wrong.",t.showError=!0):(console.log(e),t.errorMessage="",t.showError=!1)})).finally((function(){return t.isAdding=!1}));case 10:case"end":return e.stop()}}),e)})))()},handleRemoveFile:function(t){switch(t){case"film":this.form.film=null,this.preview.film="";break;case"thumbnail":this.form.thumbnail=null,this.preview.thumbnail="";break}}}}),ee=te,ne=(n("379c"),Object(bt["a"])(ee,Xt,Zt,!1,null,"6973d386",null)),ie=ne.exports,se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-col",[t.isAllLoaded()?t._e():n("b-spinner",{attrs:{label:"Spinning",type:"grow"}}),n("b-row",{directives:[{name:"show",rawName:"v-show",value:t.isAllLoaded(),expression:"isAllLoaded()"}]},[n("b-col",{attrs:{md:"8"}},[n("b-col",{staticClass:"mt-4",attrs:{cols:"12"}},[n("div",{ref:"filmVideoRef",staticClass:"embed-responsive embed-responsive-16by9 z-depth-1-half ",staticStyle:{width:"100%"}},[n("video",{staticClass:"embed-responsive-item",attrs:{poster:t.apiUrl+"films/"+t.filmId+"/thumbnail/poster",src:t.apiUrl+"films/"+t.filmId+"/video",controls:""}})])]),t.film?n("b-col",{staticClass:"pl-3 pr-3 mt-4",attrs:{sm:"12"}},[n("b-row",[n("b-col",{staticClass:"text-justify",attrs:{sm:"12"}},[n("p",{staticClass:"font-weight-bold"},[t._v(t._s(this.film.title))])]),n("b-col",{staticClass:"text-justify",attrs:{cols:"4",sm:"4"}},[n("p",{staticStyle:{"white-space":"pre-wrap"}},[n("font-awesome-icon",{attrs:{icon:"eye"}}),t._v(" "+t._s(t._f("addSpace")(this.film.meta.views))+" ")],1)]),n("b-col",{staticClass:"text-right",attrs:{cols:"4",sm:"4"}},[n("p",{staticStyle:{"white-space":"pre-wrap"}},[n("font-awesome-icon",{class:t.userMeta.liked?"blue":"",staticStyle:{cursor:"pointer"},attrs:{icon:"thumbs-up"},on:{click:function(e){return t.handleLike("liked")}}}),t._v(" "+t._s(t._f("addSpace")(this.film.meta.likes))+" ")],1)]),n("b-col",{staticClass:"text-justify",attrs:{cols:"4",sm:"4"}},[n("p",{staticStyle:{"white-space":"pre-wrap"}},[n("font-awesome-icon",{class:t.userMeta.disliked?"blue":"",staticStyle:{cursor:"pointer"},attrs:{icon:"thumbs-down"},on:{click:function(e){return t.handleLike("disliked")}}}),t._v(" "+t._s(t._f("addSpace")(this.film.meta.dislikes))+" ")],1)]),n("b-col",{staticClass:"mt-4 mb-4 dropdown-divider",attrs:{sm:"12"}}),n("b-col",{staticClass:"text-justify",attrs:{sm:"12"}},[n("span",[n("read-more",{attrs:{"max-chars":100,text:t.film.description,"less-str":"read less",link:"#","more-str":"read more"}})],1)])],1)],1):t._e(),n("b-col",{staticClass:"p-0 mt-4 d-none d-md-block"},[t.width>=768?n("Comments",{attrs:{"film-id":t.filmId,"is-logged-in":t.isLoggedIn},on:{commentsLoaded:t.handleCommentsLoaded}}):t._e()],1)],1),n("b-col",{staticClass:"p-0 mt-4 ",staticStyle:{"margin-left":"auto"},attrs:{cols:"12",md:"4"}},[t.listId&&t.filmVideoHeight>0?n("Playlist",{attrs:{"film-id":t.filmId,"film-video-height":this.filmVideoHeight,"list-id":t.listId}}):t._e(),n("FilmsNavbar",{attrs:{"film-id":t.filmId},on:{filmsLoaded:t.handleFilmsLoaded}})],1),n("b-col",{staticClass:"p-0 mt-4 d-block d-md-none",attrs:{cols:"12"}},[t.width<768?n("Comments",{attrs:{"film-id":t.filmId,"is-logged-in":t.isLoggedIn},on:{commentsLoaded:t.handleCommentsLoaded}}):t._e()],1)],1),n("router-view")],1)},ae=[],re=(n("c975"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-col",{directives:[{name:"show",rawName:"v-show",value:!1===t.isLoading,expression:"isLoading === false"}]},[n("b-col",{staticClass:"p-0",attrs:{cols:"12",sm:"12"}},[n("b-row",{staticClass:"p-0 m-0",attrs:{cols:"12",sm:"12"}},[n("b-col",{staticClass:"m-0 pl-0",attrs:{cols:"9",sm:"10"}},[n("b-form-textarea",{staticClass:"textarea-no-scrollbars",attrs:{state:t.textareaError&&null===t.textareaError,"aria-de":"input-comment-live-feedback","data-vv-as":"Comment",id:"textarea","max-rows":"4",name:"comment-input",placeholder:"Enter comment...",rows:"3"},on:{blur:function(e){t.textareaError=null},input:function(e){t.textareaError=null}},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),t.textareaError?n("small",{staticClass:"text-justify",staticStyle:{color:"red"},attrs:{id:"input-comment-live-feedback"}},[t._v(t._s(t.textareaError))]):t._e()],1),n("b-col",{staticClass:"m-0 p-0",attrs:{cols:"3",sm:"2"}},[n("b-button",{staticClass:"mt-3",attrs:{disabled:t.isAdding,"aria-label":"Submit",variant:"primary"},on:{blur:function(e){t.textareaError=null},click:t.handleAddComment}},[t._v(" Submit ")])],1)],1)],1),n("b-col",{staticClass:"p-0 mt-4 mb-4",attrs:{sm:"12"}},[n("b-row",[n("b-col",{staticClass:"text-justify",attrs:{cols:"7",md:"4",sm:"5"}},[n("p",{staticClass:"m-0"},[t._v(t._s(t.comments.length+" comments"))])]),n("div",{attrs:{cols:"2",sm:"2"}},[n("b-dropdown",{staticClass:"m-dropdown",attrs:{id:"dropdown-button-drop-down",right:"",text:"Sort",title:"Sort",variant:"secondary"}},[n("md-ripple",[n("b-dropdown-item",{staticClass:"m-nav-link",on:{click:function(e){return t.handleSort("creationDate")}}},[t._v("By date ")])],1),n("md-ripple",[n("b-dropdown-item",{staticClass:"m-nav-link",on:{click:function(e){return t.handleSort("username")}}},[t._v("By author name ")])],1)],1)],1)],1)],1),t._l(t.comments,(function(e,i){return n("b-col",{key:"_comment-"+i,staticClass:"p-0 mt-4 comment-holder",attrs:{cols:"12"}},[n("b-row",{staticClass:"w-100",staticStyle:{margin:"0"}},[n("p",{staticClass:"m-0 font-weight-bold"},[n("small",{staticClass:"m-0 font-weight-bold"},[t._v(t._s(e.authorUsername))])]),n("p",{staticStyle:{"white-space":"pre-wrap"}},[n("small",{staticClass:"m-0"},[t._v(" "+t._s(t._f("addSpace")(e.createdDate)))])]),t.content.isLoggedIn&&t.loggedInUser===e.authorID?n("CommentDeleteButton",{attrs:{"comment-id":e.id}}):t._e()],1),n("p",{staticClass:"text-justify"},[n("small",[t._v(t._s(e.text))])])],1)}))],2)}),oe=[],le=(n("d81d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-menu",{staticClass:"d-flex justify-content-center align-items-center",staticStyle:{width:"25px",height:"25px","border-radius":"20px","margin-left":"auto"},attrs:{"md-active":t.isActive,"md-direction":"bottom-end"},on:{"md-closed":t.handleHide,"md-opened":t.handleShow}},[n("md-button",{staticClass:"d-flex justify-content-center align-items-center",staticStyle:{width:"25px",height:"25px","border-radius":"20px","min-width":"auto",outline:"0"},attrs:{"md-menu-trigger":"","aria-label":"Comment"}},[n("md-ripple",{staticClass:"d-flex justify-content-center align-items-center",staticStyle:{width:"25px",height:"25px","border-radius":"20px"}},[n("font-awesome-icon",{class:t.isMobile?" comment-dropdown-holder-mobile":"comment-dropdown-holder",attrs:{icon:"ellipsis-v"}})],1)],1),n("md-menu-content",[n("md-menu-item",{on:{click:t.handleDelete}},[t._v("Delete")])],1)],1)}),ce=[],de={name:"CommentDeleteButton",props:{commentId:String},data:function(){return{isMobile:pt(),isActive:!1}},methods:{handleDelete:function(){Z.$emit("deleted_comment",this.commentId)},handleScroll:function(){this.isActive=!1},handleShow:function(){window.addEventListener("scroll",this.handleScroll),this.isActive=!0},handleHide:function(){window.removeEventListener("scroll",this.handleScroll),this.isActive=!1}}},ue=de,me=(n("377e"),Object(bt["a"])(ue,le,ce,!1,null,null,null)),pe=me.exports,fe={name:"Comments",components:{CommentDeleteButton:pe},props:{filmId:String,isLoggedIn:Boolean},watch:{isLoggedIn:function(t){this.content.isLoggedIn=t},filmId:function(t){this.getComments(t)}},data:function(){return{comment:null,isAdding:!1,textareaError:null,dir:1,comments:[],content:{isLoggedIn:this.isLoggedIn},loggedInUser:null,isMobile:pt(),isActive:!1,isLoading:!0}},beforeDestroy:function(){Z.$off("deleted_comment")},created:function(){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ut();case 2:return t.loggedInUser=e.sent,e.next=5,t.getComments(t.filmId);case 5:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;Z.$on("deleted_comment",(function(e){t.handleDeleteComment(e)}))},methods:{getComments:function(t){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,ln.getAllCommentsByFilmId(t).then((function(t){e.comments=t.data,e.comments.map((function(t){return t.createdDate=lt(t.createdDate)})),e.$emit("commentsLoaded"),e.isLoading=!1})).catch((function(t){console.log(t),e.error="Failed to load comments",e.isLoading=!1}));case 2:case"end":return n.stop()}}),n)})))()},handleScroll:function(){this.isActive=!1},handleShow:function(){window.addEventListener("scroll",this.handleScroll),this.isActive=!0},handleHide:function(){window.removeEventListener("scroll",this.handleScroll),this.isActive=!1},handleAddComment:function(){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isAdding=!0,t.comment&&!(t.comment.length<10)){e.next=5;break}return t.textareaError="Comment must be at least 10 characters long",t.isAdding=!1,e.abrupt("return");case 5:return n={text:t.comment},e.next=8,ln.createComment(t.filmId,n).then((function(e){t.comment=null,t.isAdding=!1;var n=e.data;n.createdDate=lt(n.createdDate),t.comments.push(n)})).catch((function(e){e.response&&401!==e.response.status&&(t.textareaError="Failed to create comment",t.isAdding=!1,t.comment=null)}));case 8:case"end":return e.stop()}}),e)})))()},handleDeleteComment:function(t){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,ln.removeComment(t).then((function(n){console.log(n),e.comments=e.comments.filter((function(e){return e.id!==t}))})).catch((function(t){console.log(t)}));case 2:case"end":return n.stop()}}),n)})))()},handleSort:function(t){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t+"="+e.dir,n.next=3,ln.sortComments(e.filmId,i).then((function(t){e.comments=t.data,e.comments.map((function(t){return t.createdDate=lt(t.createdDate)}))})).catch((function(t){t.response?console.log(t.response):console.log(t)})).finally((function(){return e.dir*=-1}));case 3:case"end":return n.stop()}}),n)})))()}}},he=fe,be=(n("37d9"),Object(bt["a"])(he,re,oe,!1,null,null,null)),ge=be.exports,ve=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-col",{directives:[{name:"show",rawName:"v-show",value:!1===t.isLoading,expression:"isLoading === false"}],staticClass:"p-lg-0 p-md-0 p-4"},t._l(t.films,(function(e,i){return n("b-col",{key:"_film-"+i,staticClass:"film-preview-holder p-0 mb-4 m-container"},[n("b-row",{staticClass:"m-0"},[n("b-col",{staticClass:"p-0",staticStyle:{"padding-top":"4px !important"},attrs:{cols:"11",sm:"11"},on:{click:function(n){return t.handleFilmChooseNavbar(n,e.id)}}},[n("b-row",{staticClass:"p-0 m-0"},[n("b-col",{staticClass:"p-0 pr-4",attrs:{cols:"7",sm:"7"}},[n("div",{staticClass:"embed-responsive embed-responsive-16by9 z-depth-1-half"},[n("img",{staticClass:"image embed-responsive-item",attrs:{src:t.apiUrl+"films/"+e.id+"/thumbnail/poster",alt:"Film added by "+e.authorUsername}}),n("font-awesome-icon",{staticClass:"middle",attrs:{icon:"play"}})],1)]),n("b-col",{staticClass:"p-0",attrs:{cols:"5",sm:"5"}},[n("b-row",{staticClass:"m-0"},[n("b-col",{staticClass:"p-0 title",attrs:{cols:"10",sm:"10"}},[n("span",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:1,expression:"1",arg:"20"}],staticClass:"mb-1"},[t._v(" "+t._s(e.title)+" ")])])],1),n("p",{staticClass:"mb-0 author-nick"},[n("small",[t._v(t._s(e.authorUsername))])]),n("p",{staticClass:"film-views"},[n("small",[t._v(t._s(e.meta.views)+" views")])])],1)],1)],1),n("b-col",{staticClass:"p-0 d-flex justify-content-end ",staticStyle:{"line-height":"0 !important"},attrs:{cols:"1",sm:"1"}},[n("AddToPlaylistButton",{attrs:{"film-id":e.id,"is-logged-in":t.isLoggedIn}})],1)],1)],1)})),1)},we=[],ye={name:"FilmsNavbar",components:{AddToPlaylistButton:Ct},props:{filmId:String},watch:{filmId:function(t){this.loadFilms(t)},isLoading:function(t){console.log(t)}},data:function(){return{films:[],apiUrl:D.apiUrl,isLoggedIn:!1,isLoading:!0}},mounted:function(){var t=this;console.log("addaladladlld"),Z.$on("logged",(function(e){"in"===e?t.isLoggedIn=!0:"out"===e&&(t.isLoggedIn=!1)})),console.log(this)},created:function(){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("zczxcxzcxzczxc"),t.isLoggedIn=ct(),e.next=4,t.loadFilms(t.filmId);case 4:case"end":return e.stop()}}),e)})))()},methods:{handleFilmChooseNavbar:function(t,e){this.$router.push("".concat(kt["publicPath"],"films/").concat(e))},loadFilms:function(t){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,ln.getAllFilms().then((function(n){console.log("daladldal"),e.films=n.data.filter((function(e){return e.id!==t})),e.$emit("filmsLoaded"),e.isLoading=!1})).catch((function(t){console.log(t),e.error="Failed to load films",e.isLoading=!1}));case 2:case"end":return n.stop()}}),n)})))()}}},xe=ye,Ce=Object(bt["a"])(xe,ve,we,!1,null,null,null),ke=Ce.exports,_e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return!1===t.isLoading&&t.playlist?n("b-col",{staticClass:"p-0 mb-5",staticStyle:{"overflow-y":"scroll","overflow-x":"hidden"},style:"height:"+t.sizes.height+"px"},[n("b-col",{ref:"playlistHeader",staticClass:"playlist-remove-container pt-2 pb-2 playlist-header",attrs:{sm:"12"}},[n("b-row",{staticClass:"m-0 p-0 d-flex"},[n("b-col",{staticClass:"m-0 p-0 text-justify",attrs:{cols:"10",sm:"10"}},[n("p",{staticClass:"mb-1"},[t._v(t._s(t.playlist.title))]),n("small",[t._v(t._s(t.playlist.authorUsername))]),n("small",{staticClass:"playlist-index"},[t._v(" "+t._s(t.films.length>0?t.currentFilmIndex+1:0)+"/"+t._s(this.films.length)+" ")])]),t.owner===t.playlist.authorID?n("b-col",{staticClass:"playlist-remove-holder m-0 p-0 text-center\n                          d-flex\n                          justify-content-center\n                          justify-content-end\n                          align-self-center\n                          align-items-center center-vertically",staticStyle:{height:"24px",width:"24px"},attrs:{cols:"2",sm:"2"}},[n("md-button",{staticClass:"p-0 d-flex justify-content-center align-items-center",staticStyle:{height:"24px",width:"24px","border-radius":"20px"},attrs:{"aria-label":"Remove"},on:{click:t.handleRemovePlaylist}},[n("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)],1):t._e()],1)],1),n("b-col",{staticClass:"p-0 playlist-container playlist-item-container",style:"height:"+(t.sizes.height-t.sizes.headerHeight)+"px",attrs:{cols:"12",sm:"12"}},[n("b-row",{staticClass:"pt-3"}),t._l(t.films,(function(e,i){return n("b-row",{key:"playlist-"+i,staticClass:"m-0 p-0 playlist-remove-container pt-2 pb-2 m-container d-flex",attrs:{cols:"12",siz:"",sm:"12"},on:{click:function(n){return t.handleFilmChoosePlaylist(e.id)}}},[n("b-col",{attrs:{cols:"10",sm:"10"}},[n("b-row",[n("b-col",{staticClass:"text-center justify-content-center d-flex align-items-center p-0 pl-1",attrs:{cols:"1",sm:"1"}},[t.currentFilmIndex===i?n("small",[n("font-awesome-icon",{attrs:{icon:"play"}})],1):t._e(),t.currentFilmIndex!==i?n("small",[t._v(t._s(i+1))]):t._e()]),n("b-col",{staticClass:"pr-2 pl-2",attrs:{cols:"6",sm:"6"}},[n("div",{staticClass:"embed-responsive embed-responsive-16by9 z-depth-1-half"},[n("img",{staticClass:"image embed-responsive-item",attrs:{src:e.thumbnail,alt:"Film added by "+e.authorUsername}}),n("font-awesome-icon",{staticClass:"middle",attrs:{icon:"play"}})],1)]),n("b-col",{staticClass:"p-0 text-justify",attrs:{cols:"5",sm:"5"}},[n("span",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:1,expression:"1",arg:"20"}],staticClass:"mb-0 title font-weight-bold"},[t._v(" "+t._s(e.title)+" ")]),n("p",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:1,expression:"1",arg:"20"}],staticClass:"mb-1 author-nick"},[n("small",[t._v(t._s(e.authorUsername))])])])],1)],1),t.owner===t.playlist.authorID?n("b-col",{staticClass:"playlist-remove-holder p-0 m-0 pr-2 d-flex\n                          justify-content-end align-items-center",attrs:{cols:"2",sm:"2"}},[n("md-button",{staticClass:" p-0 m-0",staticStyle:{height:"20px",width:"20px","border-radius":"20px"},attrs:{"aria-label":"Remove"},on:{click:function(n){return t.handleRemoveFilmFromPlaylist(n,e.id)}}},[n("font-awesome-icon",{staticClass:"fa-sm",attrs:{icon:"trash-alt"}})],1)],1):t._e()],1)})),n("b-row",{staticClass:"pb-3"})],2)],1):t._e()},je=[],Se=(n("4160"),n("159b"),{name:"Playlist",props:["filmId","listId","filmVideoHeight"],data:function(){return{playlist:null,owner:null,films:[],apiUrl:D.apiUrl,isLoggedIn:!1,isLoading:!0,currentFilmIndex:null,sizes:{height:0,headerHeight:0},content:{listId:null,filmId:null}}},methods:{handleFilmChoosePlaylist:function(t){this.$router.push("".concat(kt["publicPath"],"films/").concat(t,"?list=").concat(this.content.listId))},handleLoadFilms:function(t){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,ln.getPlaylistFilms(t).then((function(t){e.films=t.data,console.log(e.films),e.films.forEach((function(t){t.thumbnails=[],t.thumbnails.push("".concat(e.apiUrl,"films/").concat(t.id,"/thumbnail/preview")),t.thumbnails.push("placeholder.png"),t.thumbnail=t.thumbnails[0]}));var n=e.playlist;e.films.sort((function(t,e){return n.films.indexOf(t.id)-n.films.indexOf(e.id)})),e.currentFilmIndex=e.films.findIndex((function(t){return t.id===e.content.filmId}))})).catch((function(t){console.log(t),e.error="Failed to load films"})).finally((function(){e.isLoading=!1}));case 2:case"end":return n.stop()}}),n)})))()},handleLoadPlaylist:function(){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ln.getPlaylistById(t.content.listId).then((function(e){t.playlist=e.data})).catch((function(e){console.log(e),t.playlist=null,t.error="Failed to load films"}));case 2:case"end":return e.stop()}}),e)})))()},handleRemoveFilmFromPlaylist:function(t,e){var n=this;return Object(H["a"])(regeneratorRuntime.mark((function i(){var s,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.stopPropagation(),s=[e],a={films:s,removeFilms:!0},i.next=5,ln.updatePlaylist(n.playlist.id,a).then((function(t){n.playlist=t.data,n.films=n.films.filter((function(t){return t.id!==e})),n.currentFilmIndex=n.films.findIndex((function(t){return t.id===n.content.filmId}))})).catch((function(t){t.response?console.log(t.response):console.log(t)}));case 5:case"end":return i.stop()}}),i)})))()},handleRemovePlaylist:function(){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ln.removePlaylist(t.playlist.id).then((function(){t.playlist=null,t.films=[],t.currentFilmIndex=null,t.sizes={height:0},t.content={listId:null,filmId:null}})).catch((function(t){t.response?console.log(t.response):console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()}},watch:{filmVideoHeight:function(t){this.sizes.height=t,console.log(t),!1===this.isLoading&&this.playlist&&(this.sizes.headerHeight=this.$refs.playlistHeader.clientHeight)},filmId:function(t){this.content.filmId=t,this.playlist&&(this.currentFilmIndex=this.films.findIndex((function(e){return e.id===t})))},listId:function(t){this.content.listId=t,this.owner=ut(),this.isLoggedIn=ct(),this.handleLoadPlaylist(),this.handleLoadFilms(this.content.listId)}},updated:function(){this.$nextTick((function(){this.sizes.headerHeight=this.$refs.playlistHeader.clientHeight}))},created:function(){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.sizes.height=t.filmVideoHeight,t.content={filmId:t.filmId,listId:t.listId},e.next=4,ut();case 4:return t.owner=e.sent,e.next=7,ct();case 7:return t.isLoggedIn=e.sent,e.next=10,t.handleLoadPlaylist();case 10:return e.next=12,t.handleLoadFilms(t.content.listId);case 12:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;Z.$on("logged",(function(e){"in"===e?(t.isLoggedIn=!0,t.owner=ut()):"out"===e&&(t.isLoggedIn=!1,t.owner=null)})),Z.$on("playlist_changed",(function(e,n){n.id===t.playlist.id&&(("remove"===e||"add"===e)&&(t.playlist=n,t.handleLoadFilms(n.id)),t.currentFilmIndex=t.films.findIndex((function(e){return e.id===t.content.filmId})))}))}}),Le=Se,Fe=(n("7e50"),Object(bt["a"])(Le,_e,je,!1,null,"aa78e570",null)),Ie=Fe.exports,Pe={name:"Film",components:{FilmsNavbar:ke,Comments:ge,Playlist:Ie},data:function(){return{film:null,listId:null,filmId:null,apiUrl:D.apiUrl,content:{loading:!0,filmsLoading:!0,commentsLoading:!0,videoLoading:!0},userMeta:{liked:!1,disliked:!1},filmVideoHeight:0,width:window.screen.width,isLoggedIn:!1}},methods:{handleCommentsLoaded:function(){this.content.commentsLoading=!1},handleFilmsLoaded:function(){this.content.filmsLoading=!1},isAllLoaded:function(){var t=!this.content.loading&&!this.content.filmsLoading&&!this.content.commentsLoading;return t&&(this.filmVideoHeight=this.$refs.filmVideoRef.clientHeight),t},loadFilm:function(t){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,ln.updateFilmMetaViews(t,{viewed:!0}).then((function(t){e.film=t.data})).catch((function(t){console.log(t),e.error="Failed to load film"}));case 2:return n.next=4,e.checkUserLikes();case 4:case"end":return n.stop()}}),n)})))()},checkUserLikes:function(){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!ct()){e.next=6;break}return t.userMeta={disliked:!1,liked:!1},e.next=4,ln.getMe().then((function(e){e.data.meta.liked.indexOf(t.film.id)>-1?t.userMeta.liked=!0:e.data.meta.disliked.indexOf(t.film.id)>-1&&(t.userMeta.disliked=!0)})).catch((function(e){console.log(e.response),t.error="Failed to load my data"})).finally((function(){return t.content.loading=!1}));case 4:e.next=7;break;case 6:t.content.loading=!1;case 7:case"end":return e.stop()}}),e)})))()},handleLike:function(t){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,ln.updateFilmMetaLikes(e.film.id,{liked:t}).then((function(n){e.film=n.data,"liked"===t?(e.userMeta.liked=!e.userMeta.liked,e.userMeta.disliked=!1):(e.userMeta.disliked=!e.userMeta.disliked,e.userMeta.liked=!1)})).catch((function(t){console.log(t),e.error="Failed to load film"}));case 2:case"end":return n.stop()}}),n)})))()},handleResize:function(){this.content.loading||(this.filmVideoHeight=this.$refs.filmVideoRef.clientHeight);var t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;this.width=t}},beforeRouteUpdate:function(t,e,n){var i=this;return Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.listId=t.query.list,i.filmId=t.params.id,e.next=4,i.loadFilm(t.params.id);case 4:n();case 5:case"end":return e.stop()}}),e)})))()},updated:function(){this.$nextTick((function(){!this.content.loading&&this.$refs.filmVideoRef&&(this.filmVideoHeight=this.$refs.filmVideoRef.clientHeight)}))},destroyed:function(){window.removeEventListener("resize",this.handleResize)},created:function(){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,console.log(n),t.width=n,t.isLoggedIn=ct(),t.listId=t.$route.query.list,t.filmId=t.$route.params.id,e.next=8,ln.updateFilmMetaViews(t.$route.params.id,{viewed:!0}).then((function(e){t.film=e.data,t.checkUserLikes()})).catch((function(e){console.log(e),t.$router.back(),t.error="Failed to update film"}));case 8:return e.next=10,t.checkUserLikes();case 10:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this,e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;this.width=e,window.addEventListener("resize",this.handleResize),Z.$on("logged",(function(e){"in"===e?t.isLoggedIn=!0:"out"===e&&(t.isLoggedIn=!1,t.userMeta={disliked:!1,liked:!1})}))}},Re=Pe,$e=(n("36fa"),Object(bt["a"])(Re,se,ae,!1,null,"f14c4614",null)),Oe=$e.exports,Ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-col",[n("b-col",{staticClass:"d-flex justify-content-start mt-3 mb-3 "},[n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-filter",modifiers:{"collapse-filter":!0}}],staticClass:"p-2",attrs:{"aria-label":"Filter"}},[n("font-awesome-icon",{attrs:{icon:"filter"}})],1)],1),n("b-collapse",{attrs:{id:"collapse-filter"}},[n("b-row",{staticClass:"text-justify",attrs:{id:"filter-collapse"}},[n("b-col",{staticClass:"mt-4",attrs:{sm:"4"}},[n("p",{staticClass:"unselectable",staticStyle:{"font-weight":"500"}},[t._v("UPLOAD DATE")]),n("b-col",{staticClass:"mt-3 mb-3 dropdown-divider",attrs:{sm:"8"}}),t._l(t.filters,(function(e,i){return n("p",{key:"filter-"+i,staticClass:"filter-search unselectable",class:t.currents.filter===e.id?"currents-picked":"currents-non-picked",on:{click:function(n){return t.handleFilmsSearch("filter",e)}}},[t._v(" "+t._s(e.title)+" ")])}))],2),n("b-col",{staticClass:"mt-4",attrs:{sm:"4"}},[n("p",{staticStyle:{"font-weight":"500"}},[t._v("SORT BY")]),n("b-col",{staticClass:"mt-3 mb-3 dropdown-divider",attrs:{sm:"8"}}),t._l(t.sorts,(function(e,i){return n("b-row",{key:"sort-"+i,staticClass:"ml-0"},[n("p",{staticClass:"filter-search unselectable",class:t.currents.sort.id===e.id?"currents-picked":"currents-non-picked",on:{click:function(n){return t.handleFilmsSearch("sort",e)}}},[t._v(" "+t._s(e.title)+" ")]),e.id===t.currents.sort.id&&1===t.currents.sort.dir?n("font-awesome-icon",{staticClass:"ml-2",attrs:{icon:"sort-up"}}):t._e(),e.id===t.currents.sort.id&&-1===t.currents.sort.dir?n("font-awesome-icon",{staticClass:"ml-2",attrs:{icon:"sort-down"}}):t._e()],1)}))],2)],1)],1),n("b-col",{staticClass:"mt-2 mb-3 dropdown-divider",attrs:{cols:"12"}}),!0===t.isLoading?n("b-spinner",{staticClass:"mt-2",attrs:{label:"Spinning",type:"grow"}}):t._e(),!1===t.isLoading?n("b-row",t._l(t.films,(function(e,i){return n("b-col",{key:"film-"+i,staticClass:"mt-4 film-preview-holder m-0 mb-1 m-container text-justify",attrs:{cols:"12",lg:"8",siz:""},on:{click:function(n){return t.handleFilmChooseFilmsSearch(e.id)}}},[n("b-row",{staticClass:"d-sm-none mb-4"},[n("b-col",{attrs:{cols:"8",sm:"4"}},[n("div",{staticClass:"embed-responsive embed-responsive-16by9 z-depth-1-half"},[n("img",{staticClass:"image embed-responsive-item",attrs:{src:t.apiUrl+"films/"+e.id+"/thumbnail/preview",alt:"Film added by "+e.authorUsername}}),n("font-awesome-icon",{staticClass:"middle",attrs:{icon:"play"}})],1)]),n("b-col",{staticClass:"p-0",attrs:{cols:"4",sm:"8"}},[n("b-row",{staticClass:"m-0"},[n("b-col",{staticClass:"p-0",attrs:{cols:"8",sm:"8"}},[n("span",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:1,expression:"1",arg:"20"}],staticClass:"mb-1 title-search font-weight-bold"},[t._v(" "+t._s(e.title)+" ")])])],1),n("p",{staticClass:"mb-0 author-nick"},[n("small",[t._v(t._s(e.authorUsername)+"  "+t._s(e.meta.views)+" views")])])],1)],1),n("b-col",{staticClass:"d-none d-sm-inline"},[n("b-row",{staticClass:"style-search"},[n("b-col",{attrs:{cols:"8",sm:"4"}},[n("div",{staticClass:"embed-responsive embed-responsive-16by9 z-depth-1-half"},[n("img",{staticClass:"image embed-responsive-item",attrs:{src:t.apiUrl+"films/"+e.id+"/thumbnail/preview",alt:"Film added by "+e.authorUsername}}),n("font-awesome-icon",{staticClass:"middle",attrs:{icon:"play"}})],1)]),n("b-col",{staticClass:"p-0",attrs:{cols:"4",sm:"8"}},[n("b-row",{staticClass:"m-0"},[n("b-col",{staticClass:"p-0 mb-1",attrs:{cols:"10",sm:"10"}},[n("span",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:2,expression:"2",arg:"20"}],staticClass:"mb-0 title-search font-weight-bold"},[t._v(" "+t._s(e.title)+" ")])])],1),n("p",{staticClass:"mb-1 author-nick-search"},[n("small",[t._v(t._s(e.authorUsername)+"  "+t._s(e.meta.views)+" views")])]),n("small",[n("span",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:6,expression:"6",arg:"20"}],staticClass:"mb-0 author-nick-search"},[t._v(" "+t._s(e.description)+" ")])])],1)],1)],1)],1)})),1):t._e(),n("router-view")],1)},Ee=[],Ue={name:"FilmsSearch",data:function(){return{films:[],apiUrl:D.apiUrl,isLoading:!0,currents:{sort:{id:null,dir:1},filter:null},title_starts:null,filters:[{id:"last_hour",title:"Last hour"},{id:"today",title:"Today"},{id:"this_week",title:"This week"},{id:"this_month",title:"This month"},{id:"this_year",title:"This year"}],sorts:[{id:"creation_date",title:"Upload date",dir:1},{id:"views",title:"View count",dir:1},{id:"likes",title:"Likes",dir:1}]}},created:function(){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadFilms();case 2:case"end":return e.stop()}}),e)})))()},beforeRouteUpdate:function(t,e,n){var i=this;return Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.loadFilms(t.query);case 2:n();case 3:case"end":return e.stop()}}),e)})))()},methods:{handleFilmChooseFilmsSearch:function(t){this.$router.push("".concat(kt["publicPath"],"films/").concat(t))},handleFilmsSearch:function(t,e){var n=rt(t,e,this.title_starts,this.currents.filter,this.currents.sort),i=n.query,s=n.filter,a=n.sort;this.currents.filter=s,this.currents.sort=a,this.$router.push({path:"".concat(kt["publicPath"],"search"),query:i})},loadFilms:function(){var t=arguments,e=this;return Object(H["a"])(regeneratorRuntime.mark((function n(){var i,s,a,r,o,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.length>0&&void 0!==t[0]?t[0]:e.$route.query,e.isLoading=!0,s=at(i,e.filters,e.sorts),a=s.path,r=s.title_starts,o=s.filter,l=s.sort,e.currents.filter=o,e.currents.sort=l,e.title_starts=r,n.next=8,ln.getAllFilmsAndFilterAndSort(a).then((function(t){e.films=t.data})).catch((function(t){console.log(t),e.error="Failed to load films"})).finally((function(){return e.isLoading=!1}));case 8:case"end":return n.stop()}}),n)})))()}}},ze=Ue,Me=(n("556b"),Object(bt["a"])(ze,Ae,Ee,!1,null,"2f49d07e",null)),Te=Me.exports,De=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-col",{staticClass:"m-0 "},[t.isLoading?n("b-spinner",{attrs:{label:"Spinning",type:"grow"}}):t._e(),!1===t.isLoading?n("b-row",{staticClass:"mt-5"},t._l(t.playlists,(function(e,i){return n("b-col",{directives:[{name:"show",rawName:"v-show",value:e.films.length>0&&e.thumbnail!==t.notFoundFilmsThumbnail&&e.loaded,expression:"playlist.films.length > 0  &&\n                       playlist.thumbnail !== notFoundFilmsThumbnail &&\n                       playlist.loaded"}],key:"playlist-"+i,staticClass:"mb-5 film-preview-holder",attrs:{cols:"6",lg:"2",md:"3",siz:"",sm:"4"},on:{click:function(n){return t.handleClickPlaylist(e)}}},[n("div",{staticClass:"embed-responsive embed-responsive-16by9 z-depth-1-half container m-container"},[n("PlaylistThumbnail",{attrs:{thumbnails:e.thumbnails},on:{loaded:function(e){return t.onPlaylistThumbnailLoaded(e,i)}}}),e.films.length>0&&e.thumbnail!==t.notFoundFilmsThumbnail&&e.loaded?n("b-col",{staticClass:"middle"},[n("b-row",{staticClass:"d-flex justify-content-center",attrs:{cols:"12",sm:"12"}},[n("font-awesome-icon",{attrs:{icon:"play"}})],1),n("b-row",{staticClass:"d-flex justify-content-center",attrs:{cols:"12",sm:"12"}},[n("small",{staticClass:"font-weight-bold"},[t._v("Play all")])])],1):t._e()],1),n("b-col",{staticClass:"p-0 d-flex",attrs:{cols:"12",sm:"12"}},[n("span",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:2,expression:"2",arg:"20"}],staticClass:"mb-1 mt-1 title justify-content-start"},[t._v(" "+t._s(e.title)+" ")])]),n("p",{staticClass:"mb-0 author-nick"},[n("small",[t._v(t._s(e.authorUsername))])])],1)})),1):t._e(),n("router-view")],1)},qe=[],Ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("img",{directives:[{name:"show",rawName:"v-show",value:t.loaded,expression:"loaded"}],staticClass:"embed-responsive-item image pr-2",attrs:{alt:"Playlist thumbnail",src:t.thumbnail},on:{error:t.handleImageError,load:t.handleImageLoaded}})},He=[],Be={name:"PlaylistThumbnail",props:{thumbnails:Array},data:function(){return{apiUrl:D.apiUrl,notFoundFilmsThumbnail:"placeholder.png",thumbnail:this.thumbnails[0],loaded:!1}},watch:{thumbnails:function(){this.thumbnail=this.thumbnails[0]}},methods:{handleImageError:function(){var t=this.thumbnails.indexOf(this.thumbnail);this.thumbnail=this.thumbnails[t+1]},handleImageLoaded:function(){this.loaded=!0,this.$emit("loaded",this.thumbnail)}}},Ve=Be,We=Object(bt["a"])(Ve,Ne,He,!1,null,"df2c11a0",null),Ge=We.exports,Ke={name:"PlaylistsHomepage",components:{PlaylistThumbnail:Ge},data:function(){return{playlists:[],apiUrl:D.apiUrl,isLoggedIn:!1,isLoading:!0,notFoundFilmsThumbnail:"placeholder.png"}},methods:{onPlaylistThumbnailLoaded:function(t,e){console.log(t),this.playlists[e].thumbnail=t,this.playlists[e].loaded=!0,this.playlists=this.playlists.filter((function(t){return null!==t.id}))},handleImageError:function(t,e){var n=t.thumbnails.indexOf(t.thumbnail);t.thumbnail=t.thumbnails[n+1],this.playlists[e]=t,this.playlists=this.playlists.filter((function(t){return t.id!==e}))},handleClickPlaylist:function(t){if(t.films.length>0&&t.thumbnail!==this.notFoundFilmsThumbnail){var e=t.thumbnails.indexOf(t.thumbnail),n=t.films[e];this.$router.push("".concat(kt["publicPath"],"films/").concat(n,"?list=").concat(t.id))}}},created:function(){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoggedIn=ct(),e.next=3,ln.getAllPlaylists().then((function(e){t.playlists=e.data,t.playlists.forEach((function(e){e.thumbnails=[],e.films.forEach((function(n){e.thumbnails.push("".concat(t.apiUrl,"films/").concat(n,"/thumbnail/preview"))})),e.thumbnails.push("placeholder.png"),e.thumbnail=e.thumbnails[0]})),t.playlists=t.playlists.filter((function(t){return t.films.length>0}))})).catch((function(e){console.log(e),t.error="Failed to load playlists"})).finally((function(){return t.isLoading=!1}));case 3:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;Z.$on("logged",(function(e){"in"===e?t.isLoggedIn=!0:"out"===e&&(t.isLoggedIn=!1)}))}},Je=Ke,Ye=Object(bt["a"])(Je,De,qe,!1,null,"130931fc",null),Qe=Ye.exports,Xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-col",{staticClass:"m-0 "},[t.isLoading?n("b-spinner",{attrs:{label:"Spinning",type:"grow"}}):t._e(),!1===t.isLoading?n("b-col",{staticClass:"m-0 "},[n("b-row",{staticClass:"mt-5"},[t._l(t.films,(function(e,i){return n("b-col",{key:"film-"+i,staticClass:"mb-5 m-container film-preview-holder playlist-remove-container",attrs:{cols:"6",lg:"2",md:"3",siz:"",sm:"4"}},[n("div",{staticClass:"embed-responsive embed-responsive-16by9 container",on:{click:function(n){return t.handleFilmChoose(e.id)}}},[n("img",{staticClass:"embed-responsive-item image pr-2",attrs:{alt:"",src:t.apiUrl+"films/"+e.id+"/thumbnail/preview"}}),n("font-awesome-icon",{staticClass:"middle",attrs:{icon:"play"}})],1),n("b-row",{staticClass:"p-0 m-0 mt-1"},[n("b-col",{staticClass:"p-0 m-0 text-justify pr-2",attrs:{cols:"8",sm:"8"}},[n("b-col",{staticClass:"p-0 mb-2"},[n("span",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:2,expression:"2",arg:"20"}],staticClass:"mb-1 mt-1 title"},[t._v(t._s(e.title))])]),n("p",{staticClass:"mb-0 mt-1 film-views"},[n("small",[t._v(t._s(e.meta.views)+" views")])])],1),n("b-col",{staticClass:"p-0 m-0 text-justify",attrs:{cols:"4",sm:"4"}},[n("b-row",{staticClass:"p-0 m-0"},[n("b-col",{staticClass:"p-0 d-flex justify-content-end",staticStyle:{"line-height":"0 !important"},attrs:{cols:"6",sm:"6"}},[n("AddToPlaylistButton",{attrs:{"film-id":e.id,"is-logged-in":t.isLoggedIn}})],1),n("b-col",{staticClass:"p-0 m-0\n                            justify-content-end  d-flex justify-content-end\n                            align-self-center\n                            align-items-center center-vertically",class:t.isMobile?"playlist-remove-holder-mobile":"playlist-remove-holder",staticStyle:{"margin-left":"auto",height:"25px",width:"25px !important","line-height":"0 !important"},attrs:{cols:"6",sm:"6"},on:{click:function(n){return t.handleRemoveFilm(e.id)}}},[n("md-button",{staticClass:"m-0 p-0",staticStyle:{width:"25px",height:"25px","border-radius":"20px"},attrs:{"aria-label":"Delete"}},[n("font-awesome-icon",{staticClass:"fa-sm",attrs:{icon:"trash-alt"}})],1)],1)],1)],1)],1)],1)})),t._l(t.playlists,(function(e,i){return n("b-col",{key:"playlist-"+i,staticClass:"mb-5 playlist-remove-container m-container",attrs:{cols:"6",lg:"2",md:"3",sm:"4"}},[n("div",{staticClass:"embed-responsive embed-responsive-16by9 z-depth-1-half container",on:{click:function(n){return t.handleClickPlaylist(e)}}},[n("PlaylistThumbnail",{attrs:{thumbnails:e.thumbnails},on:{loaded:function(e){return t.onPlaylistThumbnailLoaded(e,i)}}}),t.films.length>0&&e.thumbnail!==t.notFoundFilmsThumbnail&&e.loaded?n("b-col",{staticClass:"middle"},[n("b-row",{staticClass:"d-flex justify-content-center",attrs:{cols:"12",sm:"12"}},[n("font-awesome-icon",{attrs:{icon:"play"}})],1),n("b-row",{staticClass:"d-flex justify-content-center",attrs:{cols:"12",sm:"12"}},[n("small",{staticClass:"font-weight-bold"},[t._v("Play all")])])],1):t._e()],1),n("b-row",{staticClass:"p-0 m-0 mt-1"},[n("b-col",{staticClass:"p-0 m-0 text-justify",attrs:{cols:"10",sm:"10"}},[n("span",{directives:[{name:"line-clamp",rawName:"v-line-clamp:20",value:2,expression:"2",arg:"20"}],staticClass:"mb-1 mt-1 title"},[t._v(" "+t._s(e.title)+" ")]),n("p",{staticClass:"mb-0 author-nick"},[n("small",[t._v(t._s(e.authorUsername))])])]),n("b-col",{staticClass:"p-0 m-0 text-justify",attrs:{cols:"2",sm:"2"}},[n("b-col",{staticClass:"m-0 p-0",class:t.isMobile?"playlist-remove-holder-mobile":"playlist-remove-holder",on:{click:function(n){return t.handleRemovePlaylist(e.id)}}},[n("md-button",{staticClass:"m-0 p-0",staticStyle:{width:"25px",height:"25px","border-radius":"20px"},attrs:{"aria-label":"Delete"}},[n("font-awesome-icon",{staticClass:"fa-sm",attrs:{icon:"trash-alt"}})],1)],1)],1)],1)],1)}))],2)],1):t._e(),n("router-view")],1)},Ze=[],tn=(n("a434"),{name:"Profile",components:{AddToPlaylistButton:Ct,PlaylistThumbnail:Ge},data:function(){return{playlists:[],films:[],apiUrl:D.apiUrl,isLoggedIn:!1,isLoading:!0,isMobile:pt(),notFoundFilmsThumbnail:"placeholder.png"}},beforeDestroy:function(){Z.$off("logged_out_profile"),Z.$off("playlist_changed_profile")},created:function(){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ct();case 2:return t.isLoggedIn=e.sent,e.next=5,ln.getMyPlaylists().then((function(e){t.playlists=e.data,t.playlists.forEach((function(e){e.thumbnails=[],e.films.forEach((function(n){e.thumbnails.push("".concat(t.apiUrl,"films/").concat(n,"/thumbnail/preview"))})),e.thumbnails.push(t.notFoundFilmsThumbnail),e.thumbnail=e.thumbnails[0]}))})).catch((function(e){console.log(e),t.error="Failed to load playlists profile"}));case 5:return e.next=7,ln.getMyFilms().then((function(e){t.films=e.data})).catch((function(e){console.log(e),t.error="Failed to load films profile"})).finally((function(){return t.isLoading=!1}));case 7:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;return Object(H["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Z.$on("logged_out_profile",(function(){t.isLoggedIn=!1,t.$router.push("".concat(kt["publicPath"]))})),Z.$on("playlist_changed_profile",(function(e){e.thumbnails=[],e.films.forEach((function(n){e.thumbnails.push("".concat(t.apiUrl,"films/").concat(n,"/thumbnail/preview"))})),e.thumbnails.push(t.notFoundFilmsThumbnail),e.thumbnails.forEach((function(t){return t+"?"+Date.now()})),e.thumbnail=e.thumbnails[0],t.playlists[t.playlists.findIndex((function(t){return t.id===e.id}))]=e,t.playlists=t.playlists.filter((function(t){return null!==t.id}))}));case 2:case"end":return e.stop()}}),e)})))()},methods:{onPlaylistThumbnailLoaded:function(t,e){console.log(t),this.playlists[e].thumbnail=t,this.playlists[e].loaded=!0,this.playlists=this.playlists.filter((function(t){return null!==t.id}))},handleFilmChoose:function(t){this.$router.push("".concat(kt["publicPath"],"films/").concat(t))},handleClickPlaylist:function(t){if(t.films.length>0&&t.thumbnail!==this.notFoundFilmsThumbnail){var e=t.thumbnails.indexOf(t.thumbnail),n=t.films[e];this.$router.push("".concat(kt["publicPath"],"films/").concat(n,"?list=").concat(t.id))}},handleRemovePlaylist:function(t){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,ln.removePlaylist(t).then((function(){e.playlists=e.playlists.filter((function(e){return e.id!==t}))})).catch((function(t){t.response?console.log(t.response):console.log(t)}));case 2:case"end":return n.stop()}}),n)})))()},handleRemoveFilm:function(t){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,ln.removeFilm(t).then((function(){e.playlists.forEach((function(e){var n=e.films.indexOf(t);n>0&&(e.films.splice(n,1),e.thumbnails.splice(n,1),e.thumbnails.forEach((function(t){return t+"?"+Date.now()})))})),e.playlists=e.playlists.filter((function(t){return null!==t.id})),e.films=e.films.filter((function(e){return e.id!==t}))})).catch((function(t){t.response?console.log(t.response):console.log(t)}));case 2:case"end":return n.stop()}}),n)})))()}}}),en=tn,nn=(n("71c7"),Object(bt["a"])(en,Xe,Ze,!1,null,"6555b188",null)),sn=nn.exports,an=new s["a"]({mode:"history",scrollBehavior:function(){return{x:0,y:0}},routes:[{path:"".concat(kt["publicPath"]),component:Lt,children:[{path:"login",component:Ot},{path:"register",component:Tt},{path:"forgot",component:Vt}]},{path:"".concat(kt["publicPath"],"reset/:token"),components:{default:Lt,reset:Qt}},{path:"".concat(kt["publicPath"],"add"),component:ie,children:[{path:"login",component:Ot},{path:"register",component:Tt},{path:"forgot",component:Vt}]},{path:"".concat(kt["publicPath"],"films/:id"),component:Oe,children:[{path:"login",component:Ot},{path:"register",component:Tt},{path:"forgot",component:Vt}]},{path:"".concat(kt["publicPath"],"search"),component:Te,children:[{path:"login",component:Ot},{path:"register",component:Tt},{path:"forgot",component:Vt}]},{path:"".concat(kt["publicPath"],"playlists"),component:Qe,children:[{path:"login",component:Ot},{path:"register",component:Tt},{path:"forgot",component:Vt}]},{path:"".concat(kt["publicPath"],"profile"),component:sn,children:[{path:"login",component:Ot},{path:"register",component:Tt},{path:"forgot",component:Vt}]}]}),rn=D.apiUrl,on=V.a.create({baseURL:rn,timeout:3e4});on.interceptors.response.use((function(t){return t}),(function(t){return 401==t.response.status&&(Z.$emit("logged","out"),Z.$emit("logged_out_profile"),localStorage.getItem("token")&&localStorage.removeItem("token"),window.location.pathname.includes("login")||an.push({path:"login",append:!0})),Promise.reject(t)}));var ln={createNewFilm:function(t){return on.post("films",t,{timeout:12e4,headers:ot()})},getAllFilms:function(){return on.get("films")},removeFilm:function(t){return on.delete("films/"+t,{headers:ot()})},getFilmById:function(t){return on.get("films/".concat(t))},getAllFilmsAndFilterAndSort:function(t){return on.get("films?".concat(t))},updateFilmMetaViews:function(t,e){return on.put("films/".concat(t,"/meta/views"),e)},updateFilmMetaLikes:function(t,e){return on.put("films/".concat(t,"/meta/likes"),e,{headers:ot()})},getAllCommentsByFilmId:function(t){return on.get("comments?film_id=".concat(t))},createComment:function(t,e){return on.post("comments?film_id=".concat(t),e,{headers:ot()})},sortComments:function(t,e){return on.get("comments/sort?film_id=".concat(t,"&&").concat(e))},removeComment:function(t){return on.delete("comments/"+t,{headers:ot()})},login:function(t){return on.post("auth/signin",t)},register:function(t){return on.post("auth/signup",t)},forget:function(t){return on.post("users/password/forgot",t)},reset:function(t,e){return on.post("users/password/reset/".concat(t),e)},getMe:function(){return on.get("users/me",{headers:ot()})},getMyPlaylists:function(){return on.get("users/me/playlists",{headers:ot()})},getMyFilms:function(){return on.get("users/me/films",{headers:ot()})},addPlaylist:function(t){return on.post("playlists",t,{headers:ot()})},updatePlaylist:function(t,e){return on.put("playlists/".concat(t),e,{headers:ot()})},getAllPlaylists:function(){return on.get("playlists",{headers:ot()})},getPlaylistById:function(t){return on.get("playlists/".concat(t),{headers:ot()})},getPlaylistFilms:function(t){return on.get("playlists/".concat(t,"/films"),{headers:ot()})},removePlaylist:function(t){return on.delete("playlists/"+t,{headers:ot()})}},cn=n("2ef0"),dn={name:"SearchAutoComplete",props:{width:String},data:function(){return{apiUrl:D.apiUrl,item:null,isOpen:!1,results:[],search:"",isLoading:!1,arrowCounter:-1}},mounted:function(){document.addEventListener("click",this.handleClickOutside)},destroyed:function(){document.removeEventListener("click",this.handleClickOutside)},methods:{onChange:function(t){this.search=t.target.value,this.loadMoreResults(this.search)},setResult:function(t){this.isOpen=!1,t.title?(this.item=t,this.handleRedirect()):this.search=t},onArrowDown:function(){this.arrowCounter<this.results.length&&(this.arrowCounter=this.arrowCounter+1)},onArrowUp:function(){this.arrowCounter>0&&(this.arrowCounter=this.arrowCounter-1)},onEnter:function(){this.isOpen=!1,this.item=this.results[this.arrowCounter],this.results=[],this.arrowCounter=-1,this.handleRedirect()},handleClickOutside:function(t){this.$el.contains(t.target)||(this.isOpen=!1,this.arrowCounter=-1)},handleRedirect:function(){this.isOpen=!1,null!==this.item&&void 0!==this.item?window.location.pathname!=="/films/".concat(this.item.id)&&this.$router.push("".concat(kt["publicPath"],"films/").concat(this.item.id)):cn.isEqual(this.$route.query,{title_starts:this.search})||this.$router.push("".concat(kt["publicPath"],"search?title_starts=").concat(this.search)),this.item=null,this.search=""},loadMoreResults:function(t){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(t.length>1)){n.next=5;break}return n.next=3,ln.getAllFilmsAndFilterAndSort("title_starts="+t).then((function(t){e.isLoading=!1,console.log("response.data)"),console.log(t.data),e.results=t.data,e.isOpen=e.results.length>0})).catch((function(t){console.log(t),e.error="Failed to load films"})).finally((function(){return e.isLoading=!1}));case 3:n.next=8;break;case 5:e.isOpen=!1,e.isLoading=!1,e.results=[];case 8:case"end":return n.stop()}}),n)})))()}}},un=dn,mn=(n("2e81"),Object(bt["a"])(un,q,N,!1,null,"5b49b56a",null)),pn=mn.exports,fn={name:"Header",components:{SearchAutoComplete:pn},data:function(){return{apiUrl:D.apiUrl,isLoggedIn:!1,username:"",publicPath:kt["publicPath"]}},created:function(){this.isLoggedIn=ct(),this.username=mt()},mounted:function(){var t=this;Z.$on("logged",(function(e){"in"===e?t.isLoggedIn=!0:"out"===e&&(t.isLoggedIn=!1),t.username=mt()}))},methods:{handleLogin:function(t){t.stopPropagation(),this.$route.path.includes("login")||this.$route.path.includes("register")||this.$route.path.includes("forgot")||this.$route.path.includes("reset")||this.$router.push({path:"login",append:!0,query:this.$route.query})},handleLogout:function(t){t.stopPropagation(),localStorage.getItem("token")&&localStorage.removeItem("token"),Z.$emit("logged","out"),Z.$emit("logged_out_profile")},handleProfileClick:function(){this.$router.push("".concat(kt["publicPath"],"profile"))},handleAddFilm:function(){this.$router.push("".concat(kt["publicPath"],"add"))},handleShowPlaylists:function(){this.$router.push("".concat(kt["publicPath"],"playlists"))},handleRedirect:function(t){"xs"===t?this.$refs.searchAutocomplete_xs.handleRedirect():this.$refs.searchAutocomplete_sm.handleRedirect()}}},hn=fn,bn=(n("8baf"),Object(bt["a"])(hn,M,T,!1,null,null,null)),gn=bn.exports,vn={name:"App",components:{Header:gn}},wn=vn,yn=(n("034f"),Object(bt["a"])(wn,U,z,!1,null,null,null)),xn=yn.exports;n("a507");i["default"].use(d["a"]),i["default"].directive("b-toggle",u["e"]),i["default"].component("b-nav",m["a"]),i["default"].component("b-nav-item",p["a"]),i["default"].component("b-navbar",f["a"]),i["default"].component("b-navbar-toggle",h["a"]),i["default"].component("b-navbar-brand",b["a"]),i["default"].component("b-modal",g["a"]),i["default"].component("b-col",v["a"]),i["default"].component("b-row",w["a"]),i["default"].component("b-button",y["a"]),i["default"].component("b-form-group",x["a"]),i["default"].component("b-form",C["a"]),i["default"].component("b-form-input",k["a"]),i["default"].component("b-form-textarea",_["a"]),i["default"].component("b-collapse",j["a"]),i["default"].component("b-dropdown",S["a"]),i["default"].component("b-alert",L["a"]),i["default"].component("b-spinner",F["a"]),i["default"].component("b-form-invalid-feedback",I["a"]),i["default"].component("b-dropdown-item",P["a"]),i["default"].component("b-form-select",R["a"]),i["default"].component("b-form-checkbox",$["a"]),O["c"].add(A["m"]),O["c"].add(A["g"]),O["c"].add(A["h"]),O["c"].add(A["l"]),O["c"].add(A["k"]),O["c"].add(A["b"]),O["c"].add(A["j"]),O["c"].add(A["i"]),O["c"].add(A["c"]),O["c"].add(A["a"]),O["c"].add(A["e"]),O["c"].add(A["f"]),O["c"].add(A["d"]),O["c"].add(A["n"]),O["c"].add(A["o"]),i["default"].config.productionTip=!1,i["default"].component("font-awesome-icon",E["a"]),i["default"].use(a["a"],{inject:!0,fieldsBagName:"veeFields",errorBagName:"veeErrors"}),i["default"].use(s["a"]),i["default"].use(l["a"]),i["default"].use(c["MdRipple"]),i["default"].use(c["MdAvatar"]),i["default"].use(c["MdButton"]),i["default"].use(c["MdMenu"]),i["default"].use(c["MdList"]),i["default"].use(o.a,{}),i["default"].filter("addSpace",(function(t){return" "+t})),new i["default"]({router:an,linkActiveClass:"is-showAddPlaylist",preserveWhitespace:!0,render:function(t){return t(xn)}}).$mount("#app")},"5f35":function(t,e){t.exports={publicPath:"/yt_clone/"}},6860:function(t,e,n){},"71c7":function(t,e,n){"use strict";var i=n("f14b"),s=n.n(i);s.a},"7e50":function(t,e,n){"use strict";var i=n("130a"),s=n.n(i);s.a},"85ec":function(t,e,n){},8957:function(t,e,n){"use strict";var i=n("9abd"),s=n.n(i);s.a},"8baf":function(t,e,n){"use strict";var i=n("6860"),s=n.n(i);s.a},"9abd":function(t,e,n){},aead:function(t,e,n){},b692:function(t,e,n){},c1ac:function(t,e,n){},f14b:function(t,e,n){}});
//# sourceMappingURL=app.494bf8ab.js.map